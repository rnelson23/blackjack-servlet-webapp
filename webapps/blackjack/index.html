<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Blackjack</title>
</head>
<body>
    <h1>Blackjack!</h1>
    <p>This will be the worst blackjack game you have ever seen.</p>
    <button id="deal">Deal</button>
    <p id="dealerHand"></p>
    <p id="playerHand"></p>
    <button id="hit" hidden="hidden">Hit</button> <button id="stand" hidden="hidden">Stand</button>
</body>
<script>
    document.getElementById('deal').addEventListener('click', async () => {
        const res = await fetch('http://localhost:8080/blackjack/deal');
        const data = await res.json();

        document.getElementById('dealerHand').innerHTML = `Dealer Hand: ${data['dealerHand'][0]} ??`;
        document.getElementById('playerHand').innerHTML = 'Player Hand: ';

        for (const card of data['playerHand']) {
            document.getElementById('playerHand').innerHTML += `${card} `;
        }

        document.getElementById('deal').hidden = true;
        document.getElementById('hit').hidden = false;
        document.getElementById('stand').hidden = false;
    });

    document.getElementById('hit').addEventListener('click', async () => {
        const res = await fetch('http://localhost:8080/blackjack/hit');
        const data = await res.json();

        document.getElementById('dealerHand').innerHTML = 'Dealer Hand: ';
        document.getElementById('playerHand').innerHTML = 'Player Hand: ';

        for (const card of data['dealerHand']) {
            document.getElementById('dealerHand').innerHTML += `${card} `;
        }

        for (const card of data['playerHand']) {
            document.getElementById('playerHand').innerHTML += `${card} `;
        }
    });

    document.getElementById('stand').addEventListener('click', async () => {
        const res = await fetch('http://localhost:8080/blackjack/stand');
        const data = await res.json();

        document.getElementById('dealerHand').innerHTML = 'Dealer Hand: ';
        document.getElementById('playerHand').innerHTML = 'Player Hand: ';

        for (const card of data['dealerHand']) {
            document.getElementById('dealerHand').innerHTML += `${card} `;
        }

        for (const card of data['playerHand']) {
            document.getElementById('playerHand').innerHTML += `${card} `;
        }
    });
</script>
</html>
